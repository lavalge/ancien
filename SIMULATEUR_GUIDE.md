# üõ°Ô∏è Guide Complet du Simulateur HACCP Am√©lior√©

## Vue d'ensemble

Le simulateur a √©t√© enti√®rement restructur√© pour offrir une meilleure exp√©rience de formation et de simulation d'audits DDPP (Direction D√©partementale de la Protection des Populations).

## üìã Les 3 Modes de Simulation

### 1. **Mode Manuel** (‚úã)
- **Description** : Vous r√©pondez vous-m√™me √† chaque question
- **Utilisation** : Auto-√©valuation r√©elle de votre √©tablissement
- **Exigence** : Minimum 50% des questions doivent √™tre r√©pondues avant de finaliser
- **Bon pour** : Une √©valuation honn√™te et d√©taill√©e de votre conformit√©

### 2. **Sc√©narios Pr√©d√©finis** (üé≤)
Offre 5 sc√©narios r√©alistes pr√©-configur√©s :

#### üìö **√âcole Primaire Conforme**
- **Niveau de conformit√©** : 90%
- **Note estim√©e** : A (Tr√®s satisfaisant)
- **Description** : √âtablissement scolaire bien structur√© avec bonnes pratiques HACCP
- **Utilisation** : Voir un exemple d'√©tablissement tr√®s conforme

#### üéì **Lyc√©e avec Restaurant Scolaire**
- **Niveau de conformit√©** : 75%
- **Note estim√©e** : B (Satisfaisant avec corrections mineures)
- **Description** : Lyc√©e avec cantine importante, gestion HACCP moyen
- **Utilisation** : Sc√©nario de taille moyenne avec quelques points √† corriger

#### üë∂ **Maternelle avec Cuisine**
- **Niveau de conformit√©** : 85%
- **Note estim√©e** : A-/B (Tr√®s bon, sensibilit√© renforc√©e petit enfance)
- **Description** : Structure d'accueil petit enfance, audit avec sensibilit√© renforc√©e
- **Utilisation** : Cas sp√©cifique cr√®che/maternelle

#### üçº **Cr√®che - Restauration Externalis√©e**
- **Niveau de conformit√©** : 80%
- **Note estim√©e** : B (Satisfaisant)
- **Description** : Cr√®che avec approvisionnement ext√©rieur, conformit√© acceptable
- **Utilisation** : Cr√®che sans cuisine propre (service traiteur)

#### ‚ö†Ô∏è **√âtablissement Probl√©matique**
- **Niveau de conformit√©** : 55%
- **Note estim√©e** : C (√Ä am√©liorer - mise en demeure probable)
- **Description** : √âtablissement avec s√©rieuses non-conformit√©s
- **Utilisation** : Voir les impacts d'une mauvaise gestion HACCP

### 3. **Mode Personnalis√©** (üé®)
- **Description** : Cr√©ez votre propre sc√©nario sur mesure
- **Calibrage** : Contr√¥lez le taux de conformit√© global (0-100%)
- **Options avanc√©es** :
  - **Concentrer les non-conformit√©s majeures** : G√©n√®re les d√©fauts sur les points critiques
  - **Varier les sections** : Les sections ne seront pas toutes aussi conformes
- **Utilisation** : Sc√©narios sp√©cifiques √† votre contexte

## üéØ Fonctionnalit√©s Principales

### ‚úÖ G√©n√©ration Coh√©rente des R√©ponses
- Les r√©ponses ne sont **pas al√©atoires** mais g√©n√©r√©es selon le profil de l'√©tablissement
- Chaque sc√©nario a une **logique de conformit√©** qui produit des r√©sultats r√©alistes
- Les sc√©narios personnalis√©s adoptent une **distribution intelligente** des non-conformit√©s

### üìù Modification Manuelle
- Vous pouvez **modifier chaque r√©ponse** apr√®s g√©n√©ration
- Pour chaque non-conformit√©, specifiez :
  - **Action corrective** : Qu'est-ce qui doit √™tre fait ?
  - **Responsable** : Qui fait les corrections ?
  - **D√©lai** : Immediat / 24h / 1 semaine / 1 mois

### üìä Score DDPP Complet
- **Note (A/B/C/D)** : Classification officielle DDPP
- **Pourcentage de conformit√©** : Score num√©rique
- **D√©tail par section** : Note de conformit√© pour chaque cat√©gorie
- **R√©sum√© non-conformit√©s** : Plan d'action complet

### üì• Historique Complet
- Tous les audits (manuels, sc√©narios, personnalis√©s) sont **sauvegard√©s**
- Consultez les audits pr√©c√©dents avec les notes et d√©tails
- Export PDF professionnel pour archivage ou pr√©sentation

## üöÄ Cas d'Usage Recommand√©s

### Pour Former le Personnel
```
1. Lancer "√âcran Primaire Conforme"
2. Montrer comment tout doit fonctionner
3. Expliquer chaque conformit√©
```

### Pour Identifier les Probl√®mes
```
1. Lancer "√âtablissement Probl√©matique"
2. Examiner les points non conformes
3. Discuter des corrections n√©cessaires
```

### Pour Pr√©parer un Audit R√©el
```
1. Faire un audit manuel du propre √©tablissement
2. Voir les zones √† am√©liorer
3. Mettre en place les corrections
4. Refaire un audit manuel apr√®s corrections
```

## üîí Donn√©es et S√©curit√©

- **Les audits du simulateur sont conserv√©s s√©par√©ment** des donn√©es r√©elles de l'application
- **Aucun impact sur le tableau de bord** : Les simulations n'affectent pas vos registres r√©els
- **Historique isol√©** : Seuls les audits du simulateur y figurent
- **Chiffrement** : Les donn√©es sont stock√©es localement et s√©curis√©es

## ‚öôÔ∏è Configuration par √âtablissement

Les sc√©narios s'adaptent au type d'√©tablissement :
- **√âcole / Lyc√©e** : Focus sur les bonnes pratiques de base
- **Maternelle / Cr√®che** : Sensibilit√© renforc√©e pour les enfants
- **Restauration Externalis√©e** : Accent sur les fournisseurs

## üí° Conseils d'Utilisation

### Pour Les Formateurs
- Utilisez les sc√©narios pour **montrer les √©carts de conformit√©**
- Faites modifier les r√©ponses pour **voir les impacts** sur le score
- Utilisez l'historique pour **comparer les am√©liorations**

### Pour Les Auditeurs
- Testez le mode manuel sur **un √©tablissement fictif** avant d'auditer
- Utilisez les sc√©narios comme **r√©f√©rence d'autres √©tablissements**
- Consultez les plans d'action comme **template** pour les corrections

### Pour Les Responsables
- Lancez un sc√©nario personnalis√© avec le **budget actuel** pour voir si c'est suffisant
- Comparez votre audit r√©el avec les **sc√©narios similaires**
- Archivez les audits pour **prouver votre conformit√©** en cas de visite

## üîß D√©pannage

### "Le dashboard devient noir"
- ‚úÖ **Corrig√©** : Pipeline de s√©curit√© am√©lior√©e pour √©viter les erreurs de rendu
- Les audits du simulateur n'affectent plus le dashboard
- Le dashboard affiche "Erreur: Configuration non disponible" si probl√®me

### "Les r√©ponses semblent al√©atoires"
- C'est **normal** pour les sc√©narios pr√©d√©finis
- Elles suivent une **distribution coh√©rente** bas√©e sur le profil
- Chaque sc√©nario vise un niveau de conformit√© sp√©cifique

### "Je veux r√©initialiser l'historique"
- Ouvrez la console du navigateur (F12)
- Tapez : `localStorage.removeItem('okc_simulateur_history')`
- Rechargez la page

## üìà Prochaines Am√©liorations

- [ ] Export des sc√©narios pour partage entre √©tablissements
- [ ] Comparaison de deux audits c√¥te √† c√¥te
- [ ] G√©n√©rateur de rapport DDPP automatique
- [ ] Validation pr√©dlctions vs audit r√©el

---

**Version** : 2.0 - Simulateur Am√©lior√©  
**Date** : F√©vrier 2026  
**Statut** : ‚úÖ Stable et test√©
